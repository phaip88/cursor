# ğŸš€ éƒ¨ç½²æ–¹å¼å®Œæ•´æŒ‡å—

## âš ï¸ é‡è¦æé†’

**æœ¬é¡¹ç›®æ˜¯ Cloudflare Workers é¡¹ç›®ï¼Œä¸æ˜¯ Pages é¡¹ç›®ï¼**

è¯·é€‰æ‹©ä»¥ä¸‹ä¸‰ç§æ–¹å¼ä¹‹ä¸€è¿›è¡Œéƒ¨ç½²ï¼š

---

## ğŸ“‹ ä¸‰ç§éƒ¨ç½²æ–¹å¼å¯¹æ¯”

| æ–¹å¼ | éš¾åº¦ | é€Ÿåº¦ | é€‚ç”¨åœºæ™¯ | æ¨èåº¦ |
|------|------|------|----------|--------|
| è‡ªåŠ¨åŒ–è„šæœ¬ | â­ ç®€å• | âš¡ æœ€å¿« | ä¸ªäººé¡¹ç›® | â­â­â­â­â­ |
| GitHub Actions | â­â­ ä¸­ç­‰ | âš¡âš¡ å¿« | å›¢é˜Ÿåä½œ | â­â­â­â­â­ |
| æ‰‹åŠ¨éƒ¨ç½² | â­â­â­ å¤æ‚ | âš¡âš¡âš¡ æ…¢ | è°ƒè¯•å¼€å‘ | â­â­â­ |

---

## æ–¹å¼ 1ï¸âƒ£: è‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆæ¨èæ–°æ‰‹ï¼‰

### ç‰¹ç‚¹
- âœ… ä¸€é”®å®Œæˆæ‰€æœ‰é…ç½®
- âœ… äº¤äº’å¼å¼•å¯¼
- âœ… è‡ªåŠ¨æ£€æµ‹ç¯å¢ƒ
- âœ… 5 åˆ†é’Ÿå†…å®Œæˆ

### æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/phaip88/cursor.git
cd cursor

# 2. è¿è¡Œè„šæœ¬
./setup-auto-deploy.sh
```

### è„šæœ¬ä¼šåšä»€ä¹ˆï¼Ÿ

1. âœ… æ£€æŸ¥å¹¶å®‰è£… Wrangler CLI
2. âœ… ç™»å½• Cloudflareï¼ˆæ‰“å¼€æµè§ˆå™¨æˆæƒï¼‰
3. âœ… åˆ›å»º KV å‘½åç©ºé—´ï¼ˆç”Ÿäº§ + é¢„è§ˆï¼‰
4. âœ… è‡ªåŠ¨æ›´æ–° wrangler.toml é…ç½®
5. âœ… è®¾ç½®ç®¡ç†å‘˜å¯†ç 
6. âœ… å¯é€‰ï¼šç«‹å³éƒ¨ç½²

### å®Œæˆå

è®¿é—®æ˜¾ç¤ºçš„ URLï¼Œå¼€å§‹ä½¿ç”¨ï¼

---

## æ–¹å¼ 2ï¸âƒ£: GitHub Actions è‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¨èå›¢é˜Ÿï¼‰

### ç‰¹ç‚¹
- âœ… æ¨é€ä»£ç è‡ªåŠ¨éƒ¨ç½²
- âœ… CI/CD æµç¨‹
- âœ… å¯æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—
- âœ… æ”¯æŒå¤šç¯å¢ƒ

### é…ç½®æ­¥éª¤

#### æ­¥éª¤ 1: è·å– Cloudflare å‡­è¯

**API Token:**
1. è®¿é—®: https://dash.cloudflare.com/profile/api-tokens
2. Create Token â†’ é€‰æ‹© "Edit Cloudflare Workers"
3. å¤åˆ¶ Token

**Account ID:**
1. è®¿é—®: https://dash.cloudflare.com
2. å³ä¾§æ å¤åˆ¶ Account ID

#### æ­¥éª¤ 2: é…ç½® GitHub Secrets

1. æ‰“å¼€: https://github.com/phaip88/cursor/settings/secrets/actions
2. New repository secret
3. æ·»åŠ ï¼š
   ```
   Name: CLOUDFLARE_API_TOKEN
   Value: [æ‚¨çš„ API Token]
   
   Name: CLOUDFLARE_ACCOUNT_ID
   Value: [æ‚¨çš„ Account ID]
   ```

#### æ­¥éª¤ 3: åˆ›å»º KV å‘½åç©ºé—´

```bash
npm install
npx wrangler login
npx wrangler kv:namespace create "CONFIG_KV"
npx wrangler kv:namespace create "CONFIG_KV" --preview
```

å¤åˆ¶è¾“å‡ºçš„ IDï¼Œæ›´æ–°åˆ° `wrangler.toml`ï¼š

```toml
[[kv_namespaces]]
binding = "CONFIG_KV"
id = "ä½ çš„ç”Ÿäº§ç¯å¢ƒID"
preview_id = "ä½ çš„é¢„è§ˆç¯å¢ƒID"
```

#### æ­¥éª¤ 4: æ¨é€ä»£ç è§¦å‘éƒ¨ç½²

```bash
git add wrangler.toml
git commit -m "é…ç½® KV"
git push origin main
```

âœ… è‡ªåŠ¨éƒ¨ç½²å¼€å§‹ï¼

#### æ­¥éª¤ 5: æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€

1. GitHub ä»“åº“ â†’ Actions æ ‡ç­¾
2. æŸ¥çœ‹è¿è¡Œä¸­çš„å·¥ä½œæµ
3. éƒ¨ç½²æˆåŠŸåè·å– URL

---

## æ–¹å¼ 3ï¸âƒ£: æ‰‹åŠ¨éƒ¨ç½²ï¼ˆé€‚åˆå¼€å‘è°ƒè¯•ï¼‰

### å®Œæ•´æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/phaip88/cursor.git
cd cursor

# 2. å®‰è£…ä¾èµ–
npm install

# 3. ç™»å½• Cloudflare
npx wrangler login

# 4. åˆ›å»º KV å‘½åç©ºé—´
npx wrangler kv:namespace create "CONFIG_KV"
# å¤åˆ¶è¾“å‡º: { binding = "CONFIG_KV", id = "abc123..." }

npx wrangler kv:namespace create "CONFIG_KV" --preview
# å¤åˆ¶è¾“å‡º: { binding = "CONFIG_KV", preview_id = "xyz789..." }

# 5. æ›´æ–° wrangler.toml
# æ‰‹åŠ¨ç¼–è¾‘æ–‡ä»¶ï¼Œæ›¿æ¢ KV ID

# 6. éƒ¨ç½²
npm run deploy

# 7. è®¾ç½®ç®¡ç†å‘˜å¯†ç 
npx wrangler secret put ADMIN_PASSWORD
# è¾“å…¥å¯†ç ï¼ˆé»˜è®¤: admin123ï¼‰

# 8. å®Œæˆï¼
# è®¿é—®æ˜¾ç¤ºçš„ URL
```

---

## ğŸ” éƒ¨ç½²åéªŒè¯

### æ£€æŸ¥æ¸…å•

- [ ] èƒ½è®¿é—®éƒ¨ç½²çš„ URL
- [ ] ç™»å½•é¡µé¢æ­£å¸¸æ˜¾ç¤º
- [ ] ä½¿ç”¨å¯†ç èƒ½æˆåŠŸç™»å½•
- [ ] èƒ½è¿›å…¥è®¾ç½®é¡µé¢
- [ ] èƒ½ä¿å­˜ Resend é…ç½®

### æµ‹è¯•å‘é€é‚®ä»¶

1. åœ¨è®¾ç½®é¡µé¢é…ç½® Resend API Key
2. è¿›å…¥å‘é€é‚®ä»¶é¡µé¢
3. å¡«å†™æµ‹è¯•é‚®ä»¶ä¿¡æ¯
4. å‘é€åˆ°è‡ªå·±çš„é‚®ç®±
5. æ£€æŸ¥æ˜¯å¦æ”¶åˆ°

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: "Missing script: build" é”™è¯¯

**åŸå› **: åœ¨ Cloudflare Pages éƒ¨ç½²ï¼ˆé”™è¯¯æ–¹å¼ï¼‰

**è§£å†³**: 
- âŒ ä¸è¦ä½¿ç”¨ Cloudflare Pages
- âœ… ä½¿ç”¨ä¸Šè¿°ä¸‰ç§æ–¹å¼ä¹‹ä¸€
- âœ… æœ¬é¡¹ç›®æ˜¯ Workers é¡¹ç›®ï¼Œä¸éœ€è¦ build

### Q2: "KV namespace not found"

**åŸå› **: KV æœªåˆ›å»ºæˆ– ID é…ç½®é”™è¯¯

**è§£å†³**:
```bash
# åˆ—å‡ºæ‰€æœ‰ KV
npx wrangler kv:namespace list

# é‡æ–°åˆ›å»º
npx wrangler kv:namespace create "CONFIG_KV"
```

### Q3: GitHub Actions éƒ¨ç½²å¤±è´¥

**æ£€æŸ¥**:
- [ ] API Token æ˜¯å¦æ­£ç¡®
- [ ] Account ID æ˜¯å¦æ­£ç¡®
- [ ] KV ID æ˜¯å¦å·²æ›´æ–°
- [ ] Token æƒé™æ˜¯å¦è¶³å¤Ÿ

### Q4: éƒ¨ç½²æˆåŠŸä½†æ— æ³•è®¿é—®

**ç­‰å¾…**: DNS ä¼ æ’­éœ€è¦ 1-5 åˆ†é’Ÿ

**æ£€æŸ¥**:
```bash
# æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
npx wrangler deployments list

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
npx wrangler tail
```

---

## ğŸ“Š éƒ¨ç½²æ—¶é—´å¯¹æ¯”

| æ–¹å¼ | é¦–æ¬¡éƒ¨ç½² | åç»­éƒ¨ç½² |
|------|----------|----------|
| è‡ªåŠ¨åŒ–è„šæœ¬ | ~5 åˆ†é’Ÿ | ~2 åˆ†é’Ÿ |
| GitHub Actions | ~10 åˆ†é’Ÿï¼ˆé…ç½®ï¼‰ | ~1 åˆ†é’Ÿï¼ˆè‡ªåŠ¨ï¼‰ |
| æ‰‹åŠ¨éƒ¨ç½² | ~15 åˆ†é’Ÿ | ~3 åˆ†é’Ÿ |

---

## ğŸ¯ é€‰æ‹©å»ºè®®

### å¦‚æœæ‚¨æ˜¯...

**ä¸ªäººå¼€å‘è€…**: ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬
```bash
./setup-auto-deploy.sh
```

**å›¢é˜Ÿåä½œ**: ä½¿ç”¨ GitHub Actions
- ä¸€æ¬¡é…ç½®ï¼Œæ°¸ä¹…è‡ªåŠ¨åŒ–
- æ‰€æœ‰äººéƒ½èƒ½çœ‹åˆ°éƒ¨ç½²çŠ¶æ€

**å­¦ä¹ è°ƒè¯•**: ä½¿ç”¨æ‰‹åŠ¨éƒ¨ç½²
- äº†è§£æ¯ä¸ªæ­¥éª¤
- å®Œå…¨æŒæ§æµç¨‹

---

## ğŸ”— è¯¦ç»†æ–‡æ¡£

- ğŸ“– [å¿«é€Ÿå¼€å§‹](./QUICK_START.md)
- â˜ï¸ [Cloudflare è‡ªåŠ¨éƒ¨ç½²](./CLOUDFLARE_DEPLOY.md)
- ğŸ“š [GitHub Actions æŒ‡å—](./.github/AUTO_DEPLOY_GUIDE.md)
- ğŸš« [Pages éƒ¨ç½²è¯´æ˜](./CLOUDFLARE_PAGES_NOTE.md)

---

## âœ… éƒ¨ç½²æˆåŠŸå

1. **é…ç½®ç³»ç»Ÿ**
   - è®¿é—®éƒ¨ç½²çš„ URL
   - ä½¿ç”¨å¯†ç ç™»å½•
   - é…ç½® Resend API Key

2. **æµ‹è¯•åŠŸèƒ½**
   - å‘é€æµ‹è¯•é‚®ä»¶
   - å°è¯•éšæœºå‰ç¼€
   - ä¸Šä¼ é™„ä»¶æµ‹è¯•

3. **å®‰å…¨åŠ å›º**
   - ä¿®æ”¹é»˜è®¤å¯†ç 
   - å®šæœŸæ›´æ¢ API Key

---

**ğŸš€ é€‰æ‹©ä¸€ç§æ–¹å¼ï¼Œç«‹å³å¼€å§‹éƒ¨ç½²å§ï¼**
