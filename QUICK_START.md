# âš¡ å¿«é€Ÿå¼€å§‹ - ä¸€é”®è‡ªåŠ¨éƒ¨ç½²

## ğŸ¯ ä¸‰ç§éƒ¨ç½²æ–¹å¼

### æ–¹å¼ 1ï¸âƒ£: è‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆæœ€ç®€å•ï¼‰â­

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/phaip88/cursor.git
cd cursor

# è¿è¡Œè‡ªåŠ¨é…ç½®è„šæœ¬
./setup-auto-deploy.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… ç™»å½• Cloudflare
- âœ… åˆ›å»º KV å‘½åç©ºé—´
- âœ… æ›´æ–°é…ç½®æ–‡ä»¶
- âœ… è®¾ç½®ç®¡ç†å‘˜å¯†ç 
- âœ… éƒ¨ç½²åˆ° Cloudflare

---

### æ–¹å¼ 2ï¸âƒ£: GitHub Actions è‡ªåŠ¨éƒ¨ç½²

#### ç¬¬ä¸€æ­¥ï¼šé…ç½® GitHub Secrets

1. æ‰“å¼€ä»“åº“ï¼šhttps://github.com/phaip88/cursor
2. è¿›å…¥ **Settings** â†’ **Secrets and variables** â†’ **Actions**
3. æ·»åŠ ä¸¤ä¸ª Secretï¼š

   ```
   CLOUDFLARE_API_TOKEN     â†’ æ‚¨çš„ Cloudflare API Token
   CLOUDFLARE_ACCOUNT_ID    â†’ æ‚¨çš„ Cloudflare Account ID
   ```

#### ç¬¬äºŒæ­¥ï¼šè·å– Cloudflare å‡­è¯

**è·å– API Token:**
1. è®¿é—®ï¼šhttps://dash.cloudflare.com/profile/api-tokens
2. ç‚¹å‡» **Create Token**
3. é€‰æ‹© **Edit Cloudflare Workers** æ¨¡æ¿
4. å¤åˆ¶ç”Ÿæˆçš„ Token

**è·å– Account ID:**
1. è®¿é—®ï¼šhttps://dash.cloudflare.com
2. å³ä¾§æ æŸ¥çœ‹ **Account ID**
3. ç‚¹å‡»å¤åˆ¶

#### ç¬¬ä¸‰æ­¥ï¼šåˆ›å»º KV å‘½åç©ºé—´

```bash
npm install
npx wrangler login
npx wrangler kv:namespace create "CONFIG_KV"
npx wrangler kv:namespace create "CONFIG_KV" --preview
```

å°†è¿”å›çš„ ID æ›´æ–°åˆ° `wrangler.toml`

#### ç¬¬å››æ­¥ï¼šæ¨é€ä»£ç è‡ªåŠ¨éƒ¨ç½²

```bash
git add .
git commit -m "é…ç½®è‡ªåŠ¨éƒ¨ç½²"
git push origin main
```

âœ… å®Œæˆï¼æ¯æ¬¡æ¨é€éƒ½ä¼šè‡ªåŠ¨éƒ¨ç½²åˆ° Cloudflare

---

### æ–¹å¼ 3ï¸âƒ£: æ‰‹åŠ¨éƒ¨ç½²

```bash
# å®‰è£…ä¾èµ–
npm install

# ç™»å½• Cloudflare
npx wrangler login

# åˆ›å»º KV
npx wrangler kv:namespace create "CONFIG_KV"
npx wrangler kv:namespace create "CONFIG_KV" --preview

# æ›´æ–° wrangler.toml ä¸­çš„ KV ID

# éƒ¨ç½²
npm run deploy

# è®¾ç½®å¯†ç 
npx wrangler secret put ADMIN_PASSWORD
```

---

## ğŸ“‹ éƒ¨ç½²åé…ç½®

### 1. è®¿é—®åº”ç”¨

éƒ¨ç½²æˆåŠŸåï¼Œè®¿é—®åˆ†é…çš„ URLï¼š
```
https://email-sender.YOUR_SUBDOMAIN.workers.dev
```

### 2. é¦–æ¬¡ç™»å½•

- é»˜è®¤å¯†ç ï¼š`admin123`
- å»ºè®®ç«‹å³ä¿®æ”¹

### 3. é…ç½® Resend

1. è¿›å…¥ **è®¾ç½®** é¡µé¢
2. å¡«å†™ï¼š
   - Resend API Keyï¼ˆä» https://resend.com/api-keys è·å–ï¼‰
   - Resend å‘ä»¶é‚®ç®±ï¼ˆå·²éªŒè¯çš„åŸŸåé‚®ç®±ï¼‰
3. ä¿å­˜è®¾ç½®

### 4. å¼€å§‹å‘é€é‚®ä»¶

è¿›å…¥ **å‘é€é‚®ä»¶** é¡µé¢ï¼Œå¡«å†™ï¼š
- æ”¶ä»¶äºº
- ä¸»é¢˜
- å†…å®¹
- ï¼ˆå¯é€‰ï¼‰é‚®ç®±å‰ç¼€
- ï¼ˆå¯é€‰ï¼‰é™„ä»¶

---

## ğŸ”„ è‡ªåŠ¨éƒ¨ç½²è§¦å‘æ¡ä»¶

é…ç½® GitHub Actions åï¼Œä»¥ä¸‹æ“ä½œä¼šè‡ªåŠ¨éƒ¨ç½²ï¼š

| æ“ä½œ | è§¦å‘éƒ¨ç½² |
|------|----------|
| æ¨é€åˆ° main åˆ†æ”¯ | âœ… æ˜¯ |
| åˆ›å»º Pull Request | âœ… æ˜¯ï¼ˆé¢„è§ˆï¼‰ |
| æ‰‹åŠ¨è§¦å‘ | âœ… æ˜¯ |
| æ¨é€åˆ°å…¶ä»–åˆ†æ”¯ | âŒ å¦ |

---

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
npx wrangler deployments list

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
npx wrangler tail

# æœ¬åœ°å¼€å‘
npm run dev

# æ‰‹åŠ¨éƒ¨ç½²
npm run deploy

# è®¾ç½®ç¯å¢ƒå˜é‡
npx wrangler secret put ADMIN_PASSWORD

# æŸ¥çœ‹ KV æ•°æ®
npx wrangler kv:key list --binding=CONFIG_KV
npx wrangler kv:key get --binding=CONFIG_KV "RESEND_API_KEY"
```

---

## ğŸ¯ è‡ªåŠ¨éƒ¨ç½²æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¨é€ä»£ç åˆ° GitHub â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub Actions  â”‚
â”‚   è‡ªåŠ¨è§¦å‘      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å®‰è£…ä¾èµ–       â”‚
â”‚  npm ci         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  éƒ¨ç½²åˆ° CF      â”‚
â”‚  wrangler       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… éƒ¨ç½²æˆåŠŸ    â”‚
â”‚  è‡ªåŠ¨ä¸Šçº¿       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š éƒ¨ç½²çŠ¶æ€æŸ¥çœ‹

### GitHub Actions ç•Œé¢

1. ä»“åº“ â†’ **Actions** æ ‡ç­¾
2. æŸ¥çœ‹è¿è¡Œå†å²
3. ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

### Cloudflare Dashboard

1. è®¿é—®ï¼šhttps://dash.cloudflare.com
2. **Workers & Pages**
3. é€‰æ‹©é¡¹ç›®æŸ¥çœ‹åˆ†ææ•°æ®

---

## âš¡ å¿«é€Ÿæ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šGitHub Actions å¤±è´¥

**æ£€æŸ¥é¡¹ï¼š**
- âœ… Secrets æ˜¯å¦æ­£ç¡®é…ç½®
- âœ… API Token æ˜¯å¦æœ‰æ•ˆ
- âœ… Account ID æ˜¯å¦æ­£ç¡®
- âœ… KV å‘½åç©ºé—´æ˜¯å¦åˆ›å»º

### é—®é¢˜ï¼šéƒ¨ç½²æˆåŠŸä½†æ— æ³•è®¿é—®

**æ£€æŸ¥é¡¹ï¼š**
- âœ… ç­‰å¾… DNS ç”Ÿæ•ˆï¼ˆ1-5 åˆ†é’Ÿï¼‰
- âœ… æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—
- âœ… æ£€æŸ¥ Worker è·¯ç”±

### é—®é¢˜ï¼šé‚®ä»¶å‘é€å¤±è´¥

**æ£€æŸ¥é¡¹ï¼š**
- âœ… Resend API Key æ˜¯å¦é…ç½®
- âœ… åŸŸåæ˜¯å¦åœ¨ Resend éªŒè¯
- âœ… å‘ä»¶é‚®ç®±æ˜¯å¦æ­£ç¡®

---

## ğŸ”— ç›¸å…³é“¾æ¥

- ğŸ“– [å®Œæ•´æ–‡æ¡£](./README.md)
- ï¿½ï¿½ [éƒ¨ç½²æŒ‡å—](./DEPLOYMENT.md)
- ğŸ“˜ [ä½¿ç”¨æ‰‹å†Œ](./USAGE.md)
- â˜ï¸ [è‡ªåŠ¨éƒ¨ç½²è¯¦è§£](./CLOUDFLARE_DEPLOY.md)

---

## ğŸ’¡ æç¤º

- ğŸ” éƒ¨ç½²åç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç 
- ğŸ“Š å®šæœŸæŸ¥çœ‹ Cloudflare Analytics
- ğŸ”„ ä½¿ç”¨ GitHub Actions å®ç° CI/CD
- ğŸŒ é…ç½®è‡ªå®šä¹‰åŸŸåæå‡ä¸“ä¸šåº¦

---

**ğŸš€ ç°åœ¨å°±å¼€å§‹éƒ¨ç½²å§ï¼**

é€‰æ‹©ä¸Šè¿°ä»»ä¸€æ–¹å¼ï¼Œå‡ åˆ†é’Ÿå†…å³å¯ä¸Šçº¿ï¼
